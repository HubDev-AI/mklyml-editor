import { ParseError, CompileError, SourceMapEntry, StyleGraph } from '../../../mkly/src/index.ts';
import { UndoInfo } from './undo-manager';
type OutputMode = 'web' | 'email';
type ViewMode = 'preview' | 'edit' | 'html';
type Theme = 'light' | 'dark';
type FocusOrigin = 'mkly' | 'html' | 'edit' | 'preview' | 'inspector' | 'block-dock' | null;
type FocusIntent = 'navigate' | 'edit-property' | 'recompile';
interface SelectionState {
    blockLine: number | null;
    blockType: string | null;
    propertyKey: string | null;
    contentRange: [number, number] | null;
}
interface EditorState {
    source: string;
    html: string;
    errors: Array<ParseError | CompileError>;
    outputMode: OutputMode;
    viewMode: ViewMode;
    theme: Theme;
    panelSizes: [number, number, number];
    inspectorCollapsed: boolean;
    cursorLine: number;
    blockDockOpen: boolean;
    sidebarCollapsed: boolean;
    sidebarWidth: number;
    activeBlockLine: number | null;
    selection: SelectionState;
    focusOrigin: FocusOrigin;
    focusVersion: number;
    focusIntent: FocusIntent;
    scrollLock: boolean;
    sourceMap: SourceMapEntry[] | null;
    computedStyles: Record<string, string>;
    styleGraph: StyleGraph | null;
    mklyWordWrap: boolean;
    htmlWordWrap: boolean;
    isNormalized: boolean;
    normalizationWarnings: Array<ParseError>;
    documentId: string;
    canUndo: boolean;
    canRedo: boolean;
    undoInfo: UndoInfo;
    setSource: (source: string) => void;
    setHtml: (html: string) => void;
    setErrors: (errors: Array<ParseError | CompileError>) => void;
    setOutputMode: (mode: OutputMode) => void;
    setViewMode: (mode: ViewMode) => void;
    setTheme: (theme: Theme) => void;
    setPanelSizes: (sizes: [number, number, number] | ((prev: [number, number, number]) => [number, number, number])) => void;
    setInspectorCollapsed: (collapsed: boolean) => void;
    setCursorLine: (line: number) => void;
    setBlockDockOpen: (open: boolean) => void;
    setSidebarCollapsed: (collapsed: boolean) => void;
    setSidebarWidth: (width: number) => void;
    setActiveBlockLine: (line: number | null) => void;
    setScrollLock: (locked: boolean) => void;
    setSourceMap: (sourceMap: SourceMapEntry[] | null) => void;
    setComputedStyles: (styles: Record<string, string>) => void;
    setStyleGraph: (graph: StyleGraph | null) => void;
    setMklyWordWrap: (wrap: boolean) => void;
    setHtmlWordWrap: (wrap: boolean) => void;
    setIsNormalized: (normalized: boolean) => void;
    setNormalizationWarnings: (warnings: Array<ParseError>) => void;
    setSelection: (state: Partial<SelectionState>, origin: FocusOrigin) => void;
    focusBlock: (line: number, origin: FocusOrigin, intent?: FocusIntent) => void;
    undo: () => boolean;
    redo: () => boolean;
    flushUndo: () => void;
    clearHistory: () => void;
}
declare let _undoHandlers: {
    undo: () => boolean;
    redo: () => boolean;
    flush: () => void;
    clear: () => void;
};
export declare function registerUndoHandlers(handlers: typeof _undoHandlers): void;
export declare const useEditorStore: import('zustand').UseBoundStore<import('zustand').StoreApi<EditorState>>;
export type { FocusOrigin, FocusIntent, SelectionState };
